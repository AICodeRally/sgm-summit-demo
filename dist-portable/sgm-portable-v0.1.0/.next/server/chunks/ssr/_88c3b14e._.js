module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},86751,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:a}}},59324,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){return{id:"google",name:"Google",type:"oauth",wellKnown:"https://accounts.google.com/.well-known/openid-configuration",authorization:{params:{scope:"openid email profile"}},idToken:!0,checks:["pkce","state"],profile:a=>({id:a.sub,name:a.name,email:a.email,image:a.picture}),style:{logo:"/google.svg",bg:"#fff",text:"#000"},options:a}}},69416,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){return{id:"github",name:"GitHub",type:"oauth",authorization:{url:"https://github.com/login/oauth/authorize",params:{scope:"read:user user:email"}},token:"https://github.com/login/oauth/access_token",userinfo:{url:"https://api.github.com/user",async request({client:a,tokens:b}){let c=await a.userinfo(b.access_token);if(!c.email){let a=await fetch("https://api.github.com/user/emails",{headers:{Authorization:`token ${b.access_token}`}});if(a.ok){var d;let b=await a.json();c.email=(null!=(d=b.find(a=>a.primary))?d:b[0]).email}}return c}},profile(a){var b;return{id:a.id.toString(),name:null!=(b=a.name)?b:a.login,email:a.email,image:a.avatar_url}},style:{logo:"/github.svg",bg:"#24292f",text:"#fff"},options:a}}},79331,a=>{"use strict";a.i(72131);var b=a.i(75003);function c(){return(0,b.useSession)()}a.i(86751),a.i(59324),a.i(69416),a.s(["useRallySession",()=>c])},82969,a=>{"use strict";var b=a.i(87924),c=a.i(79331),d=a.i(50944),e=a.i(72131),f=a.i(38246);function g(){let a=(0,c.useRallySession)(),g=a?.data,h=a?.status,i=(0,d.useRouter)(),[j,k]=(0,e.useState)([]),[l,m]=(0,e.useState)(!0),[n,o]=(0,e.useState)(null);(0,e.useEffect)(()=>{"unauthenticated"===h?i.push("/auth/signin"):g&&"SUPER_ADMIN"!==g.user.role?i.push("/"):"authenticated"===h&&p()},[h,g,i]);let p=async()=>{try{let a=await fetch("/api/admin/tenants");if(!a.ok)throw Error("Failed to fetch tenants");let b=await a.json();k(b)}catch(a){o(a instanceof Error?a.message:"Unknown error")}finally{m(!1)}};return l?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-gray-600",children:"Loading tenants..."})}):n?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,b.jsxs)("p",{className:"text-red-800",children:["Error: ",n]})})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenant Management"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Manage all tenants, users, and access controls"})]}),(0,b.jsx)(f.default,{href:"/admin/tenants/new",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-fuchsia-600 text-white rounded-md hover:from-purple-700 hover:to-fuchsia-700 transition-all",children:"+ New Tenant"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Total Tenants"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:j.length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Active"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:j.filter(a=>"ACTIVE"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Beta"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:j.filter(a=>"BETA"===a.tier).length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Production"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:j.filter(a=>"PRODUCTION"===a.tier).length})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(a=>{var c,d;let e,g;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.slug})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(c=a.tier,(e={DEMO:"bg-gray-100 text-gray-700",BETA:"bg-blue-100 text-blue-700",PRODUCTION:"bg-green-100 text-green-700"})[c]||e.DEMO)}`,children:a.tier})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(d=a.status,(g={ACTIVE:"bg-green-100 text-green-700",SUSPENDED:"bg-red-100 text-red-700",TRIAL:"bg-yellow-100 text-yellow-700",EXPIRED:"bg-gray-100 text-gray-700"})[d]||g.ACTIVE)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a._count.users}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a._count.documents}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,b.jsx)(f.default,{href:`/admin/tenants/${a.id}`,className:"text-purple-600 hover:text-purple-900 mr-4",children:"View"}),(0,b.jsx)(f.default,{href:`/admin/tenants/${a.id}/edit`,className:"text-blue-600 hover:text-blue-900",children:"Edit"})]})]},a.id)})})]}),0===j.length&&(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-500",children:"No tenants found"})})]})]})})}a.s(["default",()=>g,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=_88c3b14e._.js.map