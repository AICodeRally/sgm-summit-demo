module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},72734,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useParams)().id,[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=async()=>{try{let b=await fetch(`/api/sgm/documents/${a}/versions`);if(!b.ok)throw Error("Failed to fetch versions");let c=await b.json();g(c.versions||[]),c.versions&&c.versions.length>0&&m(c.versions[0].id)}catch(a){k(a instanceof Error?a.message:"Unknown error")}finally{i(!1)}};a&&b()},[a]);let n=a=>({DRAFT:"bg-gray-100 text-gray-800",UNDER_REVIEW:"bg-yellow-100 text-yellow-800",PENDING_APPROVAL:"bg-orange-100 text-orange-800",APPROVED:"bg-blue-100 text-blue-800",ACTIVE:"bg-green-100 text-green-800",ARCHIVED:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800",o=f.find(a=>a.id===l);return h?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Loading version history..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,b.jsx)(e.default,{href:`/documents/${a}`,className:"text-blue-600 hover:text-blue-700 text-sm mb-4 inline-block",children:"â† Back to Document"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Version History"}),(0,b.jsxs)("p",{className:"text-gray-600 mt-1",children:["All versions of ",f[0]?.title]})]})}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"col-span-1",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Versions (",f.length,")"]})}),(0,b.jsx)("div",{className:"divide-y divide-gray-200",children:f.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>m(a.id),className:`w-full text-left px-6 py-4 hover:bg-blue-50 transition-colors ${l===a.id?"bg-blue-50 border-l-4 border-blue-600":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:["v",a.version]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(a.lastUpdated).toLocaleDateString()})]}),0===c&&(0,b.jsx)("span",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded",children:"Latest"})]}),(0,b.jsx)("span",{className:`inline-block mt-2 text-xs font-medium px-2 py-1 rounded ${n(a.status)}`,children:a.status})]},a.id))})]})}),(0,b.jsx)("div",{className:"col-span-2",children:o?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Version"}),(0,b.jsxs)("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:["v",o.version]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,b.jsx)("p",{className:"mt-1",children:(0,b.jsx)("span",{className:`text-sm font-medium px-3 py-1 rounded ${n(o.status)}`,children:o.status})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Created"}),(0,b.jsx)("p",{className:"mt-1 text-gray-900",children:new Date(o.createdAt).toLocaleDateString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Last Updated"}),(0,b.jsx)("p",{className:"mt-1 text-gray-900",children:new Date(o.lastUpdated).toLocaleDateString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Created By"}),(0,b.jsx)("p",{className:"mt-1 text-gray-900",children:o.createdBy})]}),o.updatedBy&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Updated By"}),(0,b.jsx)("p",{className:"mt-1 text-gray-900",children:o.updatedBy})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Version Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"View Full Content"}),f[0].id!==o.id&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Compare with Latest"}),(0,b.jsx)("button",{className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Restore This Version"})]}),(0,b.jsx)("button",{className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Download"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Timeline"}),(0,b.jsx)("div",{className:"relative",children:f.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4 mb-6 last:mb-0",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${l===a.id?"bg-blue-600":"bg-gray-300"}`}),c<f.length-1&&(0,b.jsx)("div",{className:"w-0.5 h-12 bg-gray-200 mt-2"})]}),(0,b.jsxs)("div",{className:"pb-4",children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:["v",a.version]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date(a.lastUpdated).toLocaleDateString()," at"," ",new Date(a.lastUpdated).toLocaleTimeString()]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",a.status]})]})]},a.id))})]})]}):(0,b.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Select a version to view details"})})})]})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_b0cace78._.js.map